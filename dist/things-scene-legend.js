!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=scene},function(e,t,r){e.exports=r(2)},function(e,t,r){"use strict";r.r(t);var n=r(0);const o={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"rows",name:"rows"},{type:"number",label:"columns",name:"columns"},{type:"select",label:"direction",name:"direction",property:{options:[{display:"Horizontal",value:"horizontal"},{display:"Vertical",value:"vertical"}]}},{type:"number",label:"round",name:"round"},{type:"legend-status",label:"",name:"status"}]};var i={ondragmove:function(e,t,r){var{left:n,top:o,width:i,height:a}=r.model,u=(r.transcoordP2S(e.x,e.y).x-n)/(i/2)*100;u=l(u,i,a),r.set({round:u})}};function l(e,t,r){var n=t>r?r/t*100:100;return e>=n?e=n:e<=0&&(e=0),e}class a extends n.Container{ready(){this.rebuildLegendItems()}get showMoveHandle(){return!1}_draw(e){var{round:t=0}=this.model,{left:r,top:n,width:o,height:i}=this.bounds;if(e.beginPath(),(t=l(t,o,i))>0){var a=t/100*(o/2);e.moveTo(r+a,n),e.lineTo(r+o-a,n),e.quadraticCurveTo(r+o,n,r+o,n+a),e.lineTo(r+o,n+i-a),e.quadraticCurveTo(r+o,n+i,r+o-a,n+i),e.lineTo(r+a,n+i),e.quadraticCurveTo(r,n+i,r,n+i-a),e.lineTo(r,n+a),e.quadraticCurveTo(r,n,r+a,n),this.model.padding={top:t/2,left:t/2,right:t/2,bottom:t/2}}else e.rect(r,n,o,i);this.drawFill(e),this.drawStroke(e)}get controls(){var{left:e,top:t,width:r,round:n,height:o}=this.model;return[{x:e+r/2*((n=null==n?0:l(n,r,o))/100),y:t,handler:i}]}get layout(){return n.TableLayout}get nature(){return o}rebuildLegendItems(){this.components.length&&this.components.slice().forEach(e=>e.dispose());var{left:e,top:t,width:r,height:o,fillStyle:i,strokeStyle:l,fontColor:a,fontFamily:u,fontSize:s,lineHeight:d,textAlign:c="left",round:h=0,italic:f,bold:p,lineWidth:g=0,rows:m,columns:b,status:y={}}=this.model;let v=y.ranges||[];var m,b,w=v.length;this.add(v.map(e=>n.Model.compile({type:"legend-item",text:e.description||`${e.min||""} ~ ${e.max||""}`,width:1,height:1,color:e.color,fontColor:a,fontFamily:u,fontSize:s,lineHeight:d,italic:f,bold:p,textAlign:c}))),b||m?b&&!m?m=Math.ceil(w/Number(b)):m&&!b&&(b=Math.ceil(w/Number(m))):(m=w,b=1),this.set({layoutConfig:{rows:m,columns:b}})}get hasTextProperty(){return!0}get textHidden(){return!0}onchange(e,t){this.rebuildLegendItems()}}n.Component.register("legend",a);const u={mutable:!1,resizable:!1,rotatable:!1,properties:[]};class s extends(Object(n.RectPath)(n.Shape)){_draw(e){var{left:t,top:r,height:n,color:o}=this.model;e.beginPath();var i=n/2,l=i/2;e.save(),e.fillStyle=o,e.ellipse(t+i,r+i,l,l,0,0,2*Math.PI,!0),e.shadowColor="rgba(0,0,0,0.15)",e.shadowBlur=2,e.shadowOffsetX=1,e.shadowOffsetY=2,e.fill(),e.restore()}onchange(e){e.hasOwnProperty("height")&&this.set("paddingLeft",e.height)}get stuck(){return!0}get capturable(){return!1}get nature(){return u}}n.Component.register("legend-item",s),r.d(t,"Legend",function(){return a}),r.d(t,"LegendItem",function(){return s})}]);
//# sourceMappingURL=things-scene-legend.js.map