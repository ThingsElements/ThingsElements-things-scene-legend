!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=scene},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i={mutable:!1,resizable:!1,rotatable:!1,properties:[]},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.RectPath)(o.Shape)),r(t,[{key:"_draw",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.height,i=t.color;e.beginPath();var u=o/2,a=u/2;e.save(),e.fillStyle=i,e.ellipse(n+u,r+u,a,a,0,0,2*Math.PI,!0),e.shadowColor="rgba(0,0,0,0.15)",e.shadowBlur=2,e.shadowOffsetX=1,e.shadowOffsetY=2,e.fill(),e.restore()}},{key:"onchange",value:function(e){e.hasOwnProperty("height")&&this.set("paddingLeft",e.height)}},{key:"stuck",get:function(){return!0}},{key:"capturable",get:function(){return!1}},{key:"nature",get:function(){return i}}]),t}();t.default=u,o.Component.register("legend-item",u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"rows",name:"rows"},{type:"number",label:"columns",name:"columns"},{type:"select",label:"direction",name:"direction",property:{options:[{display:"Horizontal",value:"horizontal"},{display:"Vertical",value:"vertical"}]}},{type:"number",label:"round",name:"round"},{type:"legend-status",label:"",name:"status"}]},u={ondragmove:function(e,t,n){var r=n.model,o=r.left,i=(r.top,r.width),u=r.height,l=(n.transcoordP2S(e.x,e.y).x-o)/(i/2)*100;l=a(l,i,u),n.set({round:l})}};function a(e,t,n){var r=t>n?n/t*100:100;return e>=r?e=r:e<=0&&(e=0),e}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Container),r(t,[{key:"ready",value:function(){this.rebuildLegendItems()}},{key:"_draw",value:function(e){var t=this.model.round,n=void 0===t?0:t,r=this.bounds,o=r.left,i=r.top,u=r.width,l=r.height;if(e.beginPath(),(n=a(n,u,l))>0){var c=n/100*(u/2);e.moveTo(o+c,i),e.lineTo(o+u-c,i),e.quadraticCurveTo(o+u,i,o+u,i+c),e.lineTo(o+u,i+l-c),e.quadraticCurveTo(o+u,i+l,o+u-c,i+l),e.lineTo(o+c,i+l),e.quadraticCurveTo(o,i+l,o,i+l-c),e.lineTo(o,i+c),e.quadraticCurveTo(o,i,o+c,i),this.model.padding={top:n/2,left:n/2,right:n/2,bottom:n/2}}else e.rect(o,i,u,l);this.drawFill(e),this.drawStroke(e)}},{key:"rebuildLegendItems",value:function(){this.components.length&&this.components.slice().forEach(function(e){return e.dispose()});var e=this.model,t=(e.left,e.top,e.width,e.height,e.fillStyle,e.strokeStyle,e.fontColor),n=e.fontFamily,r=e.fontSize,i=e.lineHeight,u=e.textAlign,a=void 0===u?"left":u,l=(e.round,e.italic),c=e.bold,f=(e.lineWidth,e.rows),s=e.columns,p=e.status,d=(void 0===p?{}:p).ranges||[],h=d.length;this.add(d.map(function(e){return o.Model.compile({type:"legend-item",text:e.description||(e.min||"")+" ~ "+(e.max||""),width:1,height:1,color:e.color,fontColor:t,fontFamily:n,fontSize:r,lineHeight:i,italic:l,bold:c,textAlign:a})})),s||f?s&&!f?f=Math.ceil(h/Number(s)):f&&!s&&(s=Math.ceil(h/Number(f))):(f=h,s=1),this.set({layoutConfig:{rows:f,columns:s}})}},{key:"onchange",value:function(e,t){this.rebuildLegendItems()}},{key:"showMoveHandle",get:function(){return!1}},{key:"controls",get:function(){var e=this.model,t=e.left,n=e.top,r=e.width,o=e.round,i=e.height;return[{x:t+r/2*((o=void 0==o?0:a(o,r,i))/100),y:n,handler:u}]}},{key:"layout",get:function(){return o.TableLayout}},{key:"nature",get:function(){return i}},{key:"hasTextProperty",get:function(){return!0}},{key:"textHidden",get:function(){return!0}}]),t}();t.default=l,o.Component.register("legend",l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"Legend",{enumerable:!0,get:function(){return i(r).default}});var o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"LegendItem",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){e.exports=n(3)}]);
//# sourceMappingURL=things-scene-legend.js.map